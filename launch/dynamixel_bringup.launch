<!-- -*- mode: XML -*- -->

<launch>
  <node name="dynamixel_manager" pkg="dynamixel_controllers" type="controller_manager.py" required="true" output="screen">
    <rosparam>
      namespace: dxl_manager
      serial_ports:
      7dof_arm_port:
      port_name: "/dev/dynamixel_arm"
      baud_rate: 1000000
      min_motor_id: 1
      max_motor_id: 2
      update_rate: 2
    </rosparam>
  </node>

  <rosparam file="$(find eye_see)/config/dynamixel_joint_controllers.yaml" command="load"/>

  <node name="dynamixel_controller_spawner" pkg="dynamixel_controllers" type="controller_spawner.py"
        args="--manager=dxl_manager
              --port=7dof_arm_port
              --type=simple
              rleg_j1_controller
              rleg_j2_controller"
        output="screen"/>

  <node name="dynamixel_trajectory_controller_spawner_for_fullbody" pkg="dynamixel_controllers" type="controller_spawner.py"
        args="--manager=dxl_manager
              --port=7dof_arm_port
              --type=meta
              fullbody_controller
              rleg_j1_controller
              rleg_j2_controller"
        output="screen"/>

</launch>
